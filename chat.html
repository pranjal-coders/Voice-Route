<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceRoute Assistant - AI Voice Chat</title>
    <link rel="stylesheet" href="chat.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Background Elements -->
    <div class="bg-overlay"></div>
    <div class="bg-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar glass-morphism">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-microphone-alt brand-icon"></i>
                <span class="brand-text">VoiceRoute</span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="search.html" class="nav-link">
                    <i class="fas fa-search"></i> Dashboard
                </a>
                <a href="chat.html" class="nav-link active">
                    <i class="fas fa-comments"></i> Voice Chat
                </a>
                <div class="nav-divider"></div>
                <div class="chat-status" id="chatStatus">
                    <div class="status-indicator ready" id="statusIndicator"></div>
                    <span id="statusText">Ready to chat</span>
                </div>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Voice Chat Page -->
    <main class="chat-page">
        <div class="container">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="chat-title">
                    <div class="assistant-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="title-info">
                        <h1>VoiceRoute Assistant</h1>
                        <p class="subtitle">Your AI-powered transportation guide</p>
                    </div>
                </div>

                <div class="chat-controls">
                    <button class="control-btn" id="settingsBtn" onclick="toggleSettings()">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </button>
                    <button class="control-btn" id="clearBtn" onclick="clearChatHistory()">
                        <i class="fas fa-trash"></i>
                        <span>Clear</span>
                    </button>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="settings-panel glass-morphism" id="settingsPanel" style="display: none;">
                <div class="settings-content">
                    <h3><i class="fas fa-cog"></i> Voice Settings</h3>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <label for="voiceLanguage">Language:</label>
                            <select id="voiceLanguage" styles="bg-color:#444444;">
                                <option value="en-US">English (US)</option>
                                <option value="en-IN" selected>English (India)</option>
                                <option value="hi-IN">Hindi</option>
                                <option value="mr-IN">Marathi</option>
                                <option value="ta-IN">Tamil</option>
                                <option value="te-IN">Telugu</option>
                                <option value="kn-IN">Kannada</option>
                                <option value="gu-IN">Gujarati</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label for="voiceSpeed">Speech Speed:</label>
                            <div class="speed-control">
                                <input type="range" id="voiceSpeed" min="0.5" max="2" value="1" step="0.1">
                                <span id="speedValue">1.0x</span>
                            </div>
                        </div>
                        <div class="setting-group">
                            <label class="checkbox-setting">
                                <input type="checkbox" id="autoListen">
                                <span class="checkmark"></span>
                                Auto-listen after response
                            </label>
                        </div>
                        <div class="setting-group">
                            <label class="checkbox-setting">
                                <input type="checkbox" id="soundEffects" checked>
                                <span class="checkmark"></span>
                                Sound effects
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Container -->
            <div class="chat-container glass-morphism">
                <!-- Chat Messages Area -->
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <div class="welcome-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="welcome-content">
                            <h3>Welcome to VoiceRoute Assistant! ðŸš€</h3>
                            <p>I'm here to help you find the best trains and buses across India. You can:</p>
                            <div class="welcome-features">
                                <div class="feature-item">
                                    <i class="fas fa-microphone"></i>
                                    <span>Speak naturally - I understand conversational queries</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-route"></i>
                                    <span>Get real-time route information and schedules</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-language"></i>
                                    <span>Chat in multiple Indian languages</span>
                                </div>
                            </div>
                            <div class="example-queries">
                                <p><strong>Try saying:</strong></p>
                                <button class="example-btn" onclick="processVoiceInput('Find trains from Delhi to Mumbai')">
                                    "Find trains from Delhi to Mumbai"
                                </button>
                                <button class="example-btn" onclick="processVoiceInput('Show me buses to Bangalore tomorrow')">
                                    "Show me buses to Bangalore tomorrow"
                                </button>
                                <button class="example-btn" onclick="processVoiceInput('What is the cheapest way to reach Goa')">
                                    "What's the cheapest way to reach Goa?"
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voice Input Area -->
                <div class="voice-input-section">
                    <!-- Voice Visualizer -->
                    <div class="voice-visualizer">
                        <div class="voice-circle" id="voiceCircle">
                            <div class="inner-circle"></div>
                        </div>
                        <div class="voice-bars" id="voiceBars">
                            <div class="voice-bar"></div>
                            <div class="voice-bar"></div>
                            <div class="voice-bar"></div>
                            <div class="voice-bar"></div>
                            <div class="voice-bar"></div>
                            <div class="voice-bar"></div>
                            <div class="voice-bar"></div>
                        </div>
                    </div>

                    <!-- Voice Controls -->
                    <div class="voice-controls">
                        <button class="voice-main-btn" id="voiceMainBtn" onclick="toggleVoiceRecognition()">
                            <i class="fas fa-microphone" id="voiceIcon"></i>
                            <span id="voiceText">Start Speaking</span>
                        </button>
                    </div>

                    <!-- Voice Status -->
                    <div class="voice-status">
                        <div class="status-text" id="voiceStatusText">
                            Click the microphone and speak your query...
                        </div>
                        <div class="status-details" id="statusDetails"></div>
                    </div>

                    <!-- Alternative Input Methods -->
                    <div class="input-alternatives">
                        <button class="alt-btn" id="textInputBtn" onclick="toggleTextInput()">
                            <i class="fas fa-keyboard"></i>
                            Type instead
                        </button>
                        <button class="alt-btn" id="replayBtn" onclick="replayLastResponse()">
                            <i class="fas fa-volume-up"></i>
                            Replay last
                        </button>
                    </div>

                    <!-- Text Input (Hidden by default) -->
                    <div class="text-input-area" id="textInputArea" style="display: none;">
                        <div class="text-input-container">
                            <input type="text" id="textInput" placeholder="Type your message here..." 
                                   onkeypress="handleTextKeypress(event)">
                            <button onclick="sendTextMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                            <button onclick="hideTextInput()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="action-grid">
                    <button class="action-card" onclick="processVoiceInput('Help me plan a trip')">
                        <i class="fas fa-map-marked-alt"></i>
                        <span>Plan Trip</span>
                    </button>
                    <button class="action-card" onclick="processVoiceInput('Show popular routes')">
                        <i class="fas fa-star"></i>
                        <span>Popular Routes</span>
                    </button>
                    <button class="action-card" onclick="processVoiceInput('Find budget options')">
                        <i class="fas fa-rupee-sign"></i>
                        <span>Budget Travel</span>
                    </button>
                    <button class="action-card" onclick="window.location.href='search.html'">
                        <i class="fas fa-search"></i>
                        <span>Advanced Search</span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Animation -->
    <div class="thinking-overlay" id="thinkingOverlay" style="display: none;">
        <div class="thinking-animation">
            <div class="thinking-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <p>Assistant is thinking...</p>
        </div>
    </div>

    <script src="chat.js"></script>
</body>
</html>